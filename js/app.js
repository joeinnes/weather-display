!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var n={},t={},r={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,a=function(e,n){for(var t,r=[],o=(i.test(n)?e+"/"+n:n).split("/"),a=0,c=o.length;a<c;a++)t=o[a],".."===t?r.pop():"."!==t&&""!==t&&r.push(t);return r.join("/")},c=function(e){return e.split("/").slice(0,-1).join("/")},u=function(n){return function(t){var r=a(c(n),t);return e.require(r,n)}},s=function(e,n){var r=h&&h.createHot(e),o={id:e,exports:{},hot:r};return t[e]=o,n(o.exports,u(e),o),o.exports},l=function(e){var n=r[e];return n&&e!==n?l(n):e},d=function(e,n){return l(a(c(e),n))},f=function(e,r){null==r&&(r="/");var i=l(e);if(o.call(t,i))return t[i].exports;if(o.call(n,i))return s(i,n[i]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};f.alias=function(e,n){r[n]=e};var g=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,m=function(e){if(g.test(e)){var n=e.replace(g,"");o.call(r,n)&&r[n].replace(g,"")!==n+"/index"||(r[n]=e)}if(p.test(e)){var t=e.replace(p,"");o.call(r,t)||(r[t]=e)}};f.register=f.define=function(e,r){if(e&&"object"==typeof e)for(var i in e)o.call(e,i)&&f.register(i,e[i]);else n[e]=r,delete t[e],m(e)},f.list=function(){var e=[];for(var t in n)o.call(n,t)&&e.push(t);return e};var h=e._hmr&&new e._hmr(d,f,n,t);f._cache=t,f.hmr=h&&h.wrap,f.brunch=!0,e.require=f}}(),function(){"undefined"==typeof window?this:window;require.register("initialize.js",function(e,n,t){"use strict";document.addEventListener("DOMContentLoaded",function(){n("./main")})}),require.register("main.js",function(e,n,t){"use strict";function r(){return new Promise(function(e,n){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(n){var t=n.coords.latitude,r=n.coords.longitude;e([t,r])}):n("Unable to get location")})}function o(e,n){return new Promise(function(t,r){var o="24da4957a0a39b21e163f0a4b5a8f82b";window.fetch("https://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+n+"&appid="+o).then(function(e){return e.json()}).then(function(e){t(e)})["catch"](function(e){r(e)})})}function i(e,n){return new Promise(function(t,r){var o=new google.maps.LatLng(e,n),i=new google.maps.Map(document.createElement("div"),{center:o,zoom:15}),a={location:o,radius:"2500"},c=new google.maps.places.PlacesService(i);c.nearbySearch(a,function(e,n){try{if(n===google.maps.places.PlacesServiceStatus.OK){var r=e[0].photos[0].getUrl({maxWidth:2e3,maxHeight:2e3});t(r)}else t("https://source.unsplash.com/random")}catch(o){console.error(o),t("https://source.unsplash.com/random")}})})}function a(e,n,t,r,o,i){document.getElementById("background").style.backgroundImage="url('"+i+"')",document.getElementById("city").innerText=e+" in "+n+" ("+r+"Â°C)",document.getElementById("country-or-state").innerText=t,document.getElementById("location-info").innerText=o,document.getElementById("loading").style.display="none",document.getElementById("article").style.display="block"}function c(e){document.getElementById("error-message").innerText="Technical details: "+e,document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block"}var u=n("fetch-jsonp");n("whatwg-fetch"),r().then(function(e){return Promise.all([o(e[0],e[1]),i(e[0],e[1])]).then(function(e){console.log(e);var n=e[0].weather[0].description,t=e[1];u("https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=1&prop=extracts&exintro&explaintext&exsentences=5&exlimit=max&redirects=1&gsrsearch="+e[0].name).then(function(e){return e.json()}).then(function(e){console.log(e);var n="";for(var t in e.query.pages)n=e.query.pages[t].extract;return n}).then(function(r){a(n,e[0].name,e[0].sys.country,(e[0].main.temp-272.15).toPrecision(3),r+"\n\nPowered by Weather Underground, Wikipedia, Google, and Tachyons. Loading cubes by Tobias Ahlin.",t)})["catch"](function(e){c(e)})})["catch"](function(e){c(e)})})["catch"](function(e){c(e)})}),require.register("___globals___",function(e,n,t){})}(),require("___globals___");